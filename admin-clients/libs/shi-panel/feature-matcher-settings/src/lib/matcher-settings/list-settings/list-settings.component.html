<app-form-container [formGroup]="form" (cancel)="cancel()" (save)="save()" layout="main"
    [disabled]="(formChanged$ | async) === false" class="overflow-y-auto" [hideActionBar]="(hasWritePermissions$ | async) === false">
    <form id="user-general-data" fxFlex fxLayoutGap="16px">
        <mat-accordion [togglePosition]="'before'">
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                    <mat-panel-title>{{'MATCHER_SETTINGS.TITLES.WHITELIST' | translate}}</mat-panel-title>
                </mat-expansion-panel-header>
                <div class="settings-list-description">{{'MATCHER_SETTINGS.FORMS.INFOS.WHITELIST' | translate}}</div>
                @if(countryCodes$ | async; as countryCodes) {
                    <app-list-setting-container
                        [listControl]="form.controls.countries"
                        [title]="'MATCHER_SETTINGS.TITLES.COUNTRIES' | translate"
                        [placeHolder]="'MATCHER_SETTINGS.FORMS.INFOS.SEARCH_BY_COUNTRY' | translate"
                        [elementTitle]="'MATCHER_SETTINGS.FORMS.LABELS.COUNTRY' | translate"
                        [newElementTitle]="'MATCHER_SETTINGS.ACTIONS.ADD_NEW_COUNTRY' | translate"
                        [deleteTooltip]="'MATCHER_SETTINGS.ACTIONS.DELETE_COUNTRY' | translate"
                        (deleteElement)="deleteElement($event, 'countries')"
                        (addElement)="addElement('countries', 'MATCHER_SETTINGS.FORMS.LABELS.COUNTRY', countryCodes)">
                    </app-list-setting-container>
                }
            </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion [togglePosition]="'before'">
            <mat-expansion-panel [expanded]="true">
                <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                    <mat-panel-title>{{'MATCHER_SETTINGS.TITLES.BLACKLIST' | translate}}</mat-panel-title>
                </mat-expansion-panel-header>
                <div class="settings-list-description">{{'MATCHER_SETTINGS.FORMS.INFOS.BLACKLIST' | translate}}</div>
                <app-list-setting-container
                    [listControl]="form.controls.excluded_states"
                    [title]="'MATCHER_SETTINGS.TITLES.STATES' | translate"
                    [placeHolder]="'MATCHER_SETTINGS.FORMS.INFOS.SEARCH_BY_STATE' | translate"
                    [elementTitle]="'MATCHER_SETTINGS.FORMS.LABELS.STATE' | translate"
                    [newElementTitle]="'MATCHER_SETTINGS.ACTIONS.ADD_NEW_STATE' | translate"
                    [deleteTooltip]="'MATCHER_SETTINGS.ACTIONS.DELETE_STATE' | translate"
                    (deleteElement)="deleteElement($event, 'excluded_states')"
                    (addElement)="addElement('excluded_states', 'MATCHER_SETTINGS.FORMS.LABELS.STATE')">
                </app-list-setting-container>
                <app-list-setting-container
                    [listControl]="form.controls.excluded_taxonomies"
                    [title]="'MATCHER_SETTINGS.TITLES.CATEGORIES' | translate"
                    [placeHolder]="'MATCHER_SETTINGS.FORMS.INFOS.SEARCH_BY_CATEGORY' | translate"
                    [elementTitle]="'MATCHER_SETTINGS.FORMS.LABELS.CATEGORY' | translate"
                    [newElementTitle]="'MATCHER_SETTINGS.ACTIONS.ADD_NEW_CATEGORY' | translate"
                    [deleteTooltip]="'MATCHER_SETTINGS.ACTIONS.DELETE_CATEGORY' | translate"
                    (deleteElement)="deleteElement($event, 'excluded_taxonomies')"
                    (addElement)="addElement('excluded_taxonomies', 'MATCHER_SETTINGS.FORMS.LABELS.CATEGORY')">
                </app-list-setting-container>
                <app-list-setting-container
                    [listControl]="form.controls.keywords"
                    [title]="'MATCHER_SETTINGS.TITLES.KEYWORDS' | translate"
                    [placeHolder]="'MATCHER_SETTINGS.FORMS.INFOS.SEARCH_BY_KEYWORD' | translate"
                    [elementTitle]="'MATCHER_SETTINGS.FORMS.LABELS.KEYWORD' | translate"
                    [newElementTitle]="'MATCHER_SETTINGS.ACTIONS.ADD_NEW_KEYWORD' | translate"
                    [deleteTooltip]="'MATCHER_SETTINGS.ACTIONS.DELETE_KEYWORD' | translate"
                    (deleteElement)="deleteElement($event, 'keywords')"
                    (addElement)="addElement('keywords', 'MATCHER_SETTINGS.FORMS.LABELS.KEYWORD')">
                </app-list-setting-container>
            </mat-expansion-panel>
        </mat-accordion>
    </form>
</app-form-container>