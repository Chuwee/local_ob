<div class="logo-ob">
    <img alt="Onebox" class="logo-ob-image" [src]="logo" />
</div>
<mat-accordion displayMode="flat" role="list" class="expanded-sections-list">
    @for (section of sectionList; track section?.id) {
        @if(section.link && section.visible) {
            <nav class="nav-list">
                <a class="list-item" [routerLink]="section.link" [routerLinkActive]="section.link ? 'active-link' : ''">
                    @if (section.icon === 'grade') {
                        <mat-icon svgIcon="events" />
                    } @else {
                        <mat-icon fontSet="material-icons">{{section.icon}}</mat-icon>
                    }
                    {{section.label | translate}}
                </a>
            </nav>
        }
        @if(!section.link && section.visible) {
            <mat-expansion-panel [expanded]="section.isActive" [id]="section?.id">
                <mat-expansion-panel-header collapsedHeight="56px" expandedHeight="56px" [class.active-menu]="section.isActive">
                    <mat-panel-title>
                        <div class="list">
                            <div class="list-item" role="listitem">
                                @if (section.customIcon) {
                                    <mat-icon [svgIcon]="section.icon" />
                                } @else {
                                    <mat-icon fontSet="material-icons"> {{section.icon}} </mat-icon>
                                }
                                {{section.label | translate}}
                                @if(section.badge) {
                                    <app-badge [badge]="section.badge" [badgeClass]="section.badgeClass" />
                                }
                            </div>
                        </div>
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <nav class="nav-list">
                    @for (subsection of section.subsections; track subsection?.label) {
                        @if (subsection.visible) {
                            <a [id]="subsection?.id" class="list-item gap-1"
                                [routerLink]="subsection.link"
                                [routerLinkActive]="subsection.link ? 'active-link' : ''">
                                {{subsection.label | translate}}
                                @if(subsection?.icon) {
                                    <mat-icon class="ob-icon mat-icon xsmall" [fontIcon]="subsection.icon" />
                                }
                            </a>
                        }
                    }
                </nav>
            </mat-expansion-panel>
        }
    }
</mat-accordion>