<div class="dialog-msg-container" fxLayout="column nowrap" fxFlex="100%">
    <div mat-dialog-title fxFlex="auto" fxLayout="row" fxFlexAlign="start">
        <h2 fxFlex="100%" class="secondary title">{{ title || ('DIALOG.COL_SELECTION.TITLE' | translate)}}</h2>
        <button mat-icon-button type="button" class="ob-button small" (click)="close()">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div mat-dialog-content fxLayout="column" fxLayoutAlign="start stretch">
        <div class="content-info">
            <p class="info">{{ info || ('DIALOG.COL_SELECTION.INFO' | translate)}}</p>
            <mat-checkbox color="primary" [checked]="selectionList?.selectedOptions?.selected?.length === selectionList?.options?.length"
                (change)="$event.checked ? selectionList.selectAll() : deselectAll()">
                {{'FORMS.ACTIONS.SELECT_ALL' | translate}}
            </mat-checkbox>
        </div>
        <mat-divider />
        <div class="content-list">
            <mat-selection-list #selectionList fxFlex="100%" fxLayout="row wrap" class="ob-list export-fields-list"
                (selectionChange)="selectionChange($event)">
                <div fxFlex="100%" fxLayout="row wrap" *ngFor="let fieldGroup of fieldDataGroups">
                    <mat-list-option matSubheader color="primary" *ngIf="fieldDataGroups.length > 1" checkboxPosition="before"
                        [value]="fieldGroup" [selected]="selectedFields.includes(fieldGroup)">
                        {{fieldGroup.fieldKey | translate | uppercase}}
                    </mat-list-option>
                    <mat-list-option *ngFor="let field of fieldGroup.fields" color="primary" class="child-column"
                        [value]="field" [selected]="selectedFields.includes(field)" checkboxPosition="before" [disabled]="field.disabled">
                        {{field.fieldKey | translate}}
                    </mat-list-option>
                </div>
            </mat-selection-list>
        </div>
        <span *ngIf="!selectionList?.selectedOptions?.selected?.length" class="error-description">
            {{'FORMS.ERRORS.AT_LEAST_ONE' | translate}}
        </span>
    </div>
    <div mat-dialog-actions fxLayoutAlign="space-between center">
        <div class="left-actions">
            <a class="ob-link" (click)="defaultSelection()">
                {{'FORMS.ACTIONS.DEFAULT_SELECTION' | translate}}
            </a>
        </div>
        <div class="right-actions">
            <button type="button" mat-button class="ob-button" (click)="close()">
                {{'FORMS.ACTIONS.CANCEL' | translate}}
            </button>
            <button mat-flat-button color="primary" type="button" class="ob-button" (click)="commitSelection()"
                [disabled]="!selectionList?.selectedOptions?.selected?.length">
                {{'FORMS.ACTIONS.SELECT' | translate}}
            </button>
        </div>
    </div>
</div>