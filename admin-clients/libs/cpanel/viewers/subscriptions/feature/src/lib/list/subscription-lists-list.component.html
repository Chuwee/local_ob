<div class="left-bar-container">
    <div fxFlex class="left-bar" fxLayout="column" fxLayoutAlign="justify">
        <div class="left-sidebar-title" fxLayout="column">
            <div fxFlex>
                <p class="results-count" [innerHTML]="('RESULTS.TOTAL' | translate) + ': '
                + ((subscriptionListsList$ | async) ? (subscriptionListsList$ | async).length : '-')">
                </p>
            </div>
            <div fxLayoutAlign="end center">
                <app-subscription-list-filter></app-subscription-list-filter>
            </div>
            <div fxFlex="36px" class="left-sidebar-header" *ngIf="canLoggedUserWrite$ | async" fxLayoutAlign="end center">
                <button mat-icon-button aria-label="Delete SubscriptionList" class="ob-button small"
                    (click)="openDeleteSubscriptionListDialog()"
                    [disabled]="(subscriptionListsList$ | async)?.length === 0"
                    [matTooltip]="'SUBSCRIPTION_LIST.DELETE' | translate">
                    <mat-icon>delete</mat-icon>
                </button>
            </div>
        </div>
        <div fxLayout="column" fxFlex class="list-container">
            <mat-selection-list (selectionChange)="selectionChangeHandler($event.options[0]?.value)"
                class="ob-lateral-select-list" appLastPathGuardListener disableRipple
                [currValue]="(subscriptionList$ | async)?.id" [multiple]="false">
                <mat-list-option #option *ngFor="let item of (subscriptionListsList$ | async)" class="with-badge"
                    [value]="item.id" [selected]="item.id === selectedSubscriptionListId" [disabled]="option.selected"
                    [id]="'subscription-list-option-' + item.id">
                    <div fxFlex="0 0 100%" fxLayoutAlign="space-between center">
                        <div fxFlex="1 1 calc(100% - 30px)" fxLayout="column">
                            <span class="list-item-title" appEllipsify [matTooltip]="item.entity.name" [matTooltipShowDelay]="500">
                                {{item.entity.name}}
                            </span>
                            <span class="list-item-subtitle" appEllipsify [matTooltip]="item.name" [matTooltipShowDelay]="500">
                                {{item.name}}
                            </span>
                        </div>
                        <div class="badge-container" fxLayout="column" fxLayoutAlign="center center">
                            <span [matTooltipShowDelay]="800"
                                [matTooltip]="('SUBSCRIPTION_LIST.STATUS_OPTS.' + item.status.toUpperCase() | translate)"
                                class="ob-status-badge small-badge" [ngClass]="item.status.toLowerCase()">
                                {{('SUBSCRIPTION_LIST.STATUS_OPTS.' + item.status.toUpperCase() |
                                translate).substring(0,1)}}
                            </span>
                            <span [fxShow]="item.default">
                                <mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color star"
                                    aria-hidden="true">star</mat-icon>
                            </span>
                        </div>
                    </div>
                </mat-list-option>
            </mat-selection-list>
        </div>
    </div>
    <div *ngIf="isLoadingList$ | async" class="loading-state-container" fxLayoutAlign="center center">
        <div class="loading-state-background" fxLayout="row" fxLayoutAlign="center center">
            <mat-spinner></mat-spinner>
        </div>
    </div>
</div>