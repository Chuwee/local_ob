<div fxFlex="100%" fxLayout="column nowrap">
    <div mat-dialog-title fxFlex="auto" fxLayout="row" fxFlexAlign="start">
        <h2 fxFlex="100%" class="secondary title">{{'TITLES.SEASON_TICKET_ASSIGNED_SESSIONS' | translate}}</h2>
        <button mat-icon-button type="button" class="ob-button small" (click)="close()">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div mat-dialog-content fxLayout="column" class="list-container">
        <div class="info-container" fxLayoutGap="10px" fxLayoutAlign="flex-start center">
            <mat-icon class="info-warning">warning</mat-icon>
            <span>
            {{'SEASON_TICKET.ASSIGNED_SESSIONS_WARNING' | translate :{
                assigned: numberOfSavedSessions.saved,
                toAssign: numberOfSavedSessions.toSave
            } }}
             </span>
        </div>
        <div class="actions-container" fxLayout="row" fxLayoutAlign="space-between center">
            <mat-radio-group aria-label="Select an option" [formControl]="filteredSessionsControl">
                <mat-radio-button *ngIf="options.notAssigned" class="ob-radio-button"
                    [value]="seasonTicketSessionStatus.notAssigned">
                    {{'SEASON_TICKET.SHOW_ALL_NOT_ASSIGNED_SESSIONS' | translate}}
                </mat-radio-button>
                <mat-radio-button *ngIf="options.notUnassigned" class="ob-radio-button"
                    [value]="seasonTicketSessionStatus.assigned">
                    {{'SEASON_TICKET.SHOW_ALL_NOT_UNASSIGNED_SESSIONS' | translate}}
                </mat-radio-button>
            </mat-radio-group>
            <app-copy-text [copyText]="sessionsToCopy()"
                [copyOk]="'SEASON_TICKET.ASSIGNED_SESSIONS_COPY_OK' | translate"
                [copyKo]="'SEASON_TICKET.ASSIGNED_SESSIONS_COPY_KO' | translate"
                [copyTooltip]="'SEASON_TICKET.ASSIGNED_SESSIONS_COPY' | translate">
            </app-copy-text>
        </div>
        <div class="table-container" fxLayout="column">
            <mat-table class="ob-table" [dataSource]="dataSource"
                matSort [matSortActive]="initSortCol" [matSortDirection]="initSortDir" matSortDisableClear
                [attr.aria-label]="'TITLES.SEASON_TICKETS_ASSIGNED_SESSIONS' | translate">
                <ng-container matColumnDef="info">
                    <mat-header-cell *matHeaderCellDef class="info-cell head-cell" fxFlex="0 0 40px">
                    </mat-header-cell>
                    <mat-cell *matCellDef="let row" class="info-cell" fxFlex="0 0 40px" fxLayoutAlign="center">
                        <div class="season-ticket-details-icon"
                            [matTooltip]="reasonTooltip(row)"
                            matTooltipClass="ob-tooltip-error">
                            <mat-icon class="icon-error">error_outline</mat-icon>
                        </div>
                    </mat-cell>
                </ng-container>
                <ng-container matColumnDef="session_name">
                    <mat-header-cell *matHeaderCellDef mat-sort-header
                        class="head-cell">{{'SEASON_TICKET.SESSION_NAME' | translate}}
                    </mat-header-cell>
                    <mat-cell *matCellDef="let row">{{row.session_name}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="session_starting_date">
                    <mat-header-cell *matHeaderCellDef mat-sort-header
                        class="head-cell">{{'SEASON_TICKET.SESSION_DATE' | translate}}
                    </mat-header-cell>
                    <mat-cell
                        *matCellDef="let row">{{row.session_starting_date | localDateTime : dateTimeFormats.shortDate}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="event_name">
                    <mat-header-cell *matHeaderCellDef mat-sort-header
                        class="head-cell">{{'SEASON_TICKET.SESSION_EVENT' | translate}}
                    </mat-header-cell>
                    <mat-cell *matCellDef="let row">{{row.event_name}}</mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;" class="ob-row-error">
                </mat-row>
            </mat-table>
            <div class="context-notification-container" *ngIf="dataSource.filteredData.length === 0" fxFlex="0 50 100%"
                fxLayout="row" fxLayoutAlign="center start">
                <app-context-notification class="ob-context-notification" contextType="info" fxFlex.gt-sm="600px" fxFlex="80%"
                    fxLayoutAlign="center start">
                    <p>{{'LIST.EMPTY' | translate}}</p>
                </app-context-notification>
            </div>
        </div>
    </div>
    <div mat-dialog-actions fxLayoutAlign="end">
        <button mat-flat-button color="primary" type="button" class="ob-button" (click)="close()">
            {{'FORMS.ACTIONS.OK' | translate}}
        </button>
    </div>
</div>
