@if ($seasonTicket()) {
    <app-form-container (save)="save()" (cancel)="cancel()" layout="menu"
        [disabled]="!form.dirty || (isGenerationStatusReady$ | async) === false">
        @if (isGenerationStatusInProgress$ | async) {
            <div class="ob-overlay-wrapper" slot="overlay">
                <div class="ob-overlay-pane pane-sticky">
                    <app-context-notification class="ob-context-notification basis-5/6" contextType="info">
                        <p>{{'SEASON_TICKET.GENERATION_STATUS_IN_PROGRESS_INFO' | translate}}</p>
                        <mat-progress-bar foot mode="indeterminate" class="ob-progress-bar"
                            [attr.aria-label]="('SEASON_TICKET.GENERATION_STATUS_IN_PROGRESS_INFO' | translate)" />
                    </app-context-notification>
                </div>
            </div>
        }
        <div class="flex flex-col gap-4 section-block" [formGroup]="form">
            <div class="flex flex-col">
                <h3 class="section-title">{{'SEASON_TICKET.TICKET_REDEMPTION.CONFIG_TITLE' | translate}}</h3>
                <span>{{'SEASON_TICKET.TICKET_REDEMPTION.CONFIG_DESCRIPTION' | translate}}</span>
            </div>
            <span class="flex items-center">
                <mat-icon class="ob-icon xsmall warning with-text">warning</mat-icon>
                <span>{{ 'SEASON_TICKET.TICKET_REDEMPTION.WARNING_MESSAGE' | translate }}</span>
            </span>
            <mat-checkbox formControlName="enabled" color="primary">
                {{'SEASON_TICKET.TICKET_REDEMPTION.TICKET_REDEMPTION_ENABLED' | translate}}
            </mat-checkbox>
        </div>
    </app-form-container>
}
@if (isLoadingOrSaving$ | async) {
    <div class="spinner-container">
        <mat-spinner />
    </div>
}
