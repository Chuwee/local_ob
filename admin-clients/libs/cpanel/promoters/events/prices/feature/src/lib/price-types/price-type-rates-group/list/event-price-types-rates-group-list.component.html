<div class="prices-table-container">
    @let priceRows = pricesRows$ | async;
    @if(priceRows?.length) {
        <table mat-table class="ob-table" [dataSource]="priceRows">
            @let tableHeaders = tableHeaders$ | async;
            @for(tableHeader of tableHeaders; track tableHeader) {
                @if($first) {
                    <ng-container [matColumnDef]="tableHeader" sticky>
                        <th mat-header-cell *matHeaderCellDef class="head-cell border-right">
                            {{tableHeader | translate}}
                        </th>
                        <td mat-cell *matCellDef="let row" class="border-right">
                            {{row[tableHeader]}}
                        </td>
                    </ng-container>
                } @else {
                    <ng-container [matColumnDef]="tableHeader">
                        <th mat-header-cell *matHeaderCellDef class="head-cell right price-column">
                            <span appEllipsify [matTooltip]="tableHeader">{{tableHeader}}</span>
                        </th>
                        <td mat-cell *matCellDef="let row" class="right price-column">
                            <div> {{row[tableHeader] | localCurrency : (userCurrency$ | async)}} </div>
                        </td>
                    </ng-container>
                }
            }
            <tr mat-header-row *matHeaderRowDef="tableHeaders; sticky: true" class="dense-row"></tr>
            <tr mat-row *matRowDef="let row; columns: tableHeaders" class="dense-row"></tr>
        </table>
    } @else {
        @let title = $isSga() ? 'EVENTS.PRICE_TYPES.EMPTY_LIST_SGA' : 'EVENTS.PRICE_TYPES.EMPTY_LIST';
        @let description = $isSga() ?
            'EVENTS.PRICE_TYPES.EMPTY_LIST_SGA_DESCRIPTION'
            : 'EVENTS.PRICE_TYPES.EMPTY_LIST_DESCRIPTION';
        <app-empty-state [title]="title | translate" [description]="description | translate" />
    }
</div>
