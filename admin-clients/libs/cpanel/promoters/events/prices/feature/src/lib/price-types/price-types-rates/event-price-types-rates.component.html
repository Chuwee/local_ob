<app-form-container [disabled]="!formPriceTypesRates.dirty" (cancel)="cancel()" (save)="savePrices()" layout="menu">
    <div class="flex flex-col gap-10">
        <app-event-price-types-matrix #individualPrices
            [isActivity]="isActivity$ | async"
            [form]="formPriceTypesRates"
            [saveBtnClicked$]="saveBtnClicked$" />
        @if ((isActivity$ | async) && (event$ | async)?.settings?.groups?.allowed) {
            <app-event-price-types-matrix #groupPrices
                [tplId]="individualPrices.tplId"
                [isActivity]="true"
                [groupMode]="true"
                [formGroupPrices]="formPriceTypesRates"
                [saveBtnClicked$]="saveBtnClicked$" />
            <form class="flex flex-col gap-4" [formGroup]="groupPricesDetailsForm">
                <span class="mat-subtitle-2">{{'EVENTS.PRICE_DEFINITION' | translate}}</span>
                <mat-radio-group class="flex flex-col gap-4" formControlName="pricePolicy">
                    <mat-radio-button class="ob-radio-button" [value]="eventGroupPricePolicy.fixed">
                        {{'EVENTS.GROUP_FIXED_PRICE' | translate}}
                    </mat-radio-button>
                    <mat-radio-button class="ob-radio-button" [value]="eventGroupPricePolicy.individual">
                        {{'EVENTS.GROUP_INDIVIDUAL_PRICE' | translate}}
                    </mat-radio-button>
                </mat-radio-group>
                <mat-checkbox color="primary" class="nested-field" formControlName="companionsPayment">
                    <mat-label>{{'EVENTS.GROUP_COMPANIONS_PAYMENT' | translate}}</mat-label>
                </mat-checkbox>
            </form>
        }
    </div>
</app-form-container>
@if (isInProgress$ | async) {
    <div class="spinner-container">
        <mat-spinner />
    </div>
}
