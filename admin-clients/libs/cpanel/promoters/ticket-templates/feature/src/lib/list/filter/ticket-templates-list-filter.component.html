<form [formGroup]="filtersForm" fxLayout="column" fxLayoutGap="24px">
    <ng-container *ngIf="canSelectEntity$ | async">
        <div fxLayout="row" class="filter-block">
            <div class="ob-label">
                {{'FORMS.LABELS.ENTITY' | translate}}
            </div>
            <div class="filter-block-input" fxFlex="550px">
                <mat-form-field appearance="outline" class="ob-form-field entity-select">
                    <mat-select formControlName="entity" [placeholder]="'FORMS.SELECT.ALL_ELEMENTS_FEMALE' | translate">
                        <mat-option>
                            <app-select-search #entitySelectSearch [options$]="entities$" searchField="name">
                            </app-select-search>
                        </mat-option>
                        <mat-option *ngFor="let entity of entitySelectSearch.getFilteredOptions$() | async" [value]="entity">
                            {{entity ? entity.name : ('FORMS.SELECT.ALL_ELEMENTS_FEMALE' | translate)}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <mat-divider [inset]="true"></mat-divider>
    </ng-container>
    <div fxLayout="row" fxLayoutAlign="space-between" class="filter-block">
        <div fxFlex="350px">
            <div class="ob-label">
                {{'TICKET_TEMPLATE.DESIGN' | translate}}
            </div>
            <div class="filter-block-input" fxFlex="200px">
                <mat-form-field appearance="outline" class="ob-form-field design-select">
                    <mat-select formControlName="design" [placeholder]="'FORMS.SELECT.ALL_ELEMENTS_MALE' | translate">
                        <mat-option>
                            <app-select-search #designSelectSearch [options$]="designs$" searchField="name">
                            </app-select-search>
                        </mat-option>
                        <mat-option *ngFor="let design of designSelectSearch.getFilteredOptions$() | async" [value]="design">
                            <div appEllipsify [matTooltip]="design ? design.name : ('FORMS.SELECT.ALL_ELEMENTS_MALE' | translate)">
                                {{design ? design.name : ('FORMS.SELECT.ALL_ELEMENTS_MALE' | translate)}}
                            </div>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div>
            <div class="ob-label">
                {{'TICKET_TEMPLATE.PRINTER' | translate}}
            </div>
            <div class="filter-block-input" fxFlex="200px">
                <mat-form-field appearance="outline" class="ob-form-field printer-select">
                    <mat-select formControlName="printer" [placeholder]="'FORMS.SELECT.ALL_ELEMENTS_MALE' | translate">
                        <mat-option>
                            <app-select-search #printerSelectSearch [options$]="printers$" searchField="name">
                            </app-select-search>
                        </mat-option>
                        <mat-option *ngFor="let printer of printerSelectSearch.getFilteredOptions$() | async" [value]="printer">
                            <div appEllipsify [matTooltip]="printer ? printer.name : ('FORMS.SELECT.ALL_ELEMENTS_MALE' | translate)">
                                {{printer ? printer.name : ('FORMS.SELECT.ALL_ELEMENTS_MALE' | translate)}}
                            </div>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="space-between" class="filter-block">
        <div>
            <div class="ob-label">
                {{'TICKET_TEMPLATE.PAPER_TYPE' | translate}}
            </div>
            <div class="filter-block-input" fxFlex="200px">
                <mat-form-field appearance="outline" class="ob-form-field paper-type-select">
                    <mat-select formControlName="paper_type" [placeholder]="'FORMS.SELECT.ALL_ELEMENTS_MALE' | translate">
                        <mat-option>
                            <app-select-search #paperTypeSelectSearch [options$]="paperTypes$" searchField="name">
                            </app-select-search>
                        </mat-option>
                        <mat-option *ngFor="let paperType of paperTypeSelectSearch.getFilteredOptions$() | async" [value]="paperType">
                            {{paperType ? paperType.name : ('FORMS.SELECT.ALL_ELEMENTS_MALE' | translate)}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div>
            <div class="ob-label">
                {{'TICKET_TEMPLATE.FORMAT' | translate}}
            </div>
            <div class="filter-block-input" fxFlex="200px">
                <mat-form-field appearance="outline" class="ob-form-field status-select">
                    <mat-select formControlName="format" [placeholder]="'FORMS.SELECT.ALL_ELEMENTS_MALE' | translate">
                        <mat-option *ngFor="let format of ticketTemplateformats" [value]="format">
                            {{format && (format.name | translate)}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
    </div>
</form>