<div class="dialog-msg-container">
    <div class="dialog-header-container" fxLayout="row" mat-dialog-title>
        <h2 fxFlex="100%" fxLayoutAlign="start end" class="secondary title">
            {{'USERS.MFA.ACTIONS.DEACTIVATE' | translate}}
        </h2>
        <button mat-icon-button type="button" class="ob-button small" (click)="close()">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div [formGroup]="form" mat-dialog-content class="with-wizard-bar" fxLayout="column" fxLayoutGap="24px">

        <p>{{'USERS.MFA.FORMS.INFOS.DEACTIVATE_HELP' | translate}}</p>

        <mat-form-field class="ob-form-field field-with-label tall" appearance="outline" fxFlex="1 1 100%">
            <mat-label>{{'LOGIN.PASSWORD' | translate}}</mat-label>
            <input matInput type="password" aria-label="password" formControlName="password" (keyup.enter)="save()"
                autocomplete="password" name="password" [placeholder]="'LOGIN.PASSWORD' | translate">
            @if (form.controls.password.hasError($mfaErrorCodes().invalidCredentials)) {
            <mat-error>{{'USERS.MFA.FORMS.ERRORS.WRONG_PASS' | translate}}</mat-error>
            }
        </mat-form-field>

        <p fxLayout="row" fxLayoutAlign="start">
            <mat-icon class="ob-icon info with-text">
                info
            </mat-icon>
            {{'USERS.MFA.FORMS.INFOS.DEACTIVATE_INFO' | translate}}
        </p>

    </div>

    <div mat-dialog-actions fxLayoutAlign="center center">
        <div fxFlex fxLayoutAlign="end">
            <div fxLayoutAlign="center center">
                <button type="button" mat-button class="ob-button" (click)="close()"
                    [disabled]="isLoading$ | async">
                    {{'FORMS.ACTIONS.CANCEL' | translate}}
                </button>
                <button #saveBtn mat-flat-button color="primary" type="button" class="ob-button"
                    [disabled]="isLoading$ | async" (click)="save()">
                    {{'ACTIONS.DEACTIVATE' | translate}}
                    @if (isLoading$ | async) {
                    <div class="spinner-container">
                        <mat-spinner [diameter]="25"></mat-spinner>
                    </div>
                    }
                </button>
            </div>
        </div>
    </div>
</div>