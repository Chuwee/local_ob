<app-form-container [formGroup]="form" (cancel)="cancel()" (save)="save()" layout="menu" class="overflow-y-auto"
    [disabled]="!form.dirty || ($isInProgress())">
    <app-language-bar [languages]="languages$ | async" [selected]="selectedLanguage$ | async" slot="outside"
        [changeGuard]="canChangeLanguage" (changed)="changeLanguage($event)" />

    <form [formGroup]="form">
        <div class="flex flex-col gap-4">
            <p class="mat-body-2">{{'ENTITY.EMAIL_CONTENT.CHANGE_PASSWORD.DESCRIPTION' | translate}}</p>
            <div class="flex flex-col change-password-subject">
                <mat-form-field appearance="outline" class="ob-form-field field-with-label">
                    <mat-label>{{'ENTITY.EMAIL_CONTENT.CHANGE_PASSWORD.FORM.SUBJECT' | translate}}</mat-label>
                    <input matInput aria-label="subject"
                        [placeholder]="'ENTITY.EMAIL_CONTENT.CHANGE_PASSWORD.FORM.SUBJECT_PLACEHOLDER' | translate"
                        formControlName="subject">
                </mat-form-field>
            </div>
            <mat-form-field appearance="outline" class="ob-form-field no-padding field-with-label">
                <mat-label>{{'ENTITY.EMAIL_CONTENT.CHANGE_PASSWORD.FORM.BODY' | translate}}</mat-label>
                <app-rich-text-area [autoresize]="{min: 100, max: 500}" formControlName="body"
                    class="vertical-stretch" />
            </mat-form-field>
            <mat-form-field appearance="outline" class="ob-form-field no-padding field-with-label">
                <mat-label>{{'ENTITY.EMAIL_CONTENT.CHANGE_PASSWORD.FORM.FOTER' | translate}}</mat-label>
                <app-rich-text-area [autoresize]="{min: 100, max: 500}" formControlName="footer"
                    class="vertical-stretch" />
            </mat-form-field>
        </div>
    </form>
</app-form-container>

@if($isInProgress()) {
    <div class="spinner-container">
        <mat-spinner />
    </div>
}