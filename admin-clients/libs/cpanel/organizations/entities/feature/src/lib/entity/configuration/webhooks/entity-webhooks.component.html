<app-form-container layout="menu" hideActionBar>
    <p>{{ 'WEBHOOKS.DESCRIPTION' | translate }}</p>
    @if($webhooks()?.length){
        <div class="flex flex-col gap-4">
            <div class="flex justify-end">
                <button mat-stroked-button color="primary" type="button" class="ob-button medium"
                    [attr.aria-label]="'WEBHOOKS.NEW_BTN' | translate"
                    (click)="openCreateWebhookDialog()">
                    <mat-icon fontIcon="add" />
                    {{'WEBHOOKS.NEW_BTN' | translate}}
                </button>
            </div>
            @if($metadata(); as metadata){
                <mat-paginator hidePageSize class="with-range-label transparent"
                    [pageIndex]="pageIndex(metadata.offset, metadata.limit)"
                    [pageSize]="metadata.limit"
                    [length]="metadata.total"
                    (page)="onPageChange($event)" />
            }
            <app-entity-webhook-table [webhooks]="$webhooks()" (reload)="loadWebhooksAndShowMsg($event)" />
        </div>
    } @else if(!$isInProgress()) {
        <app-empty-state
            [hideImage]=" true"
            [title]="'WEBHOOKS.NEW.TITLE' | translate"
            [description]="'WEBHOOKS.NEW.SUBTITLE' | translate">
            <button mat-stroked-button class="ob-button" color="primary" (click)="openCreateWebhookDialog()">
                <mat-icon fontIcon="add" />
                {{'WEBHOOKS.NEW_BTN' | translate}}
            </button>
        </app-empty-state>
    }
    @if($isInProgress()){
        <div class="spinner-container">
            <mat-spinner />
        </div>
    }
</app-form-container>