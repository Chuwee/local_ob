<app-form-container [formGroup]="form" (cancel)="cancel()" (save)="save()" layout="menu" [disabled]="!form.dirty || $loading()">
    <app-language-bar [languages]="$languages()" [selected]="$selectedLanguage()" slot="outside"
        [changeGuard]="canChangeLanguage" (changed)="$selectedLanguage.set($event)" />

    <div class="flex flex-col gap-4">
        <p class="mat-body-2">{{'ENTITY.EMAIL_CONTENT.NEW_ACCOUNT.DESCRIPTION' | translate}}</p>
        <div class="flex">
            <mat-form-field appearance="outline" class="ob-form-field field-with-label basis-1/2">
                <mat-label>{{'ENTITY.EMAIL_CONTENT.NEW_ACCOUNT.FORM.SUBJECT' | translate}}</mat-label>
                <input matInput aria-label="subject"
                [placeholder]="'ENTITY.EMAIL_CONTENT.NEW_ACCOUNT.FORM.SUBJECT_PLACEHOLDER' | translate"
                formControlName="subject">
            </mat-form-field>
        </div>

        <mat-form-field appearance="outline" class="ob-form-field no-padding field-with-label">
            <mat-label>{{'ENTITY.EMAIL_CONTENT.NEW_ACCOUNT.FORM.BODY' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 100, max: 500}" formControlName="body"
                class="vertical-stretch" />
        </mat-form-field>
        <mat-form-field appearance="outline" class="ob-form-field no-padding field-with-label">
            <mat-label>{{'ENTITY.EMAIL_CONTENT.NEW_ACCOUNT.FORM.FOOTER' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 100, max: 500}" formControlName="footer"
                class="vertical-stretch" />
        </mat-form-field>
    </div>

</app-form-container>

@if($loading()) {
    <div class="spinner-container">
        <mat-spinner />
    </div>
}
