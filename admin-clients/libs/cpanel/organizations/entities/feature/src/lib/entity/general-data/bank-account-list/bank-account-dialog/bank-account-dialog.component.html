<div class="dialog-msg-container">
    <form [formGroup]="form">
        <div mat-dialog-title>
            <div class="flex flex-row flex-auto items-center justify-between">
                <h2 class="secondary title">
                    {{ data?.bankAccount ? ('ENTITY.BANK_ACCOUNTS.EDIT_DIALOG.TITLE' | translate) :
                    ('ENTITY.BANK_ACCOUNTS.NEW_DIALOG.TITLE' | translate) }}
                </h2>
                <button mat-icon-button type="button" class="ob-button small" (click)="close()">
                    <mat-icon>close</mat-icon>
                </button>
            </div>
        </div>
        <div mat-dialog-content>
            <div class="flex flex-col">
                <mat-form-field appearance="outline" class="ob-form-field field-with-label">
                    <mat-label>{{'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BANK_NAME' | translate}}</mat-label>
                    <input matInput aria-label="name" formControlName="name"
                        [placeholder]="'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BANK_NAME_PLACEHOLDER' | translate">
                    <mat-error [ob-form-errors]="form" field="name" />
                </mat-form-field>
                <mat-form-field appearance="outline" class="ob-form-field field-with-label">
                    <mat-label>{{'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.IBAN' | translate}}</mat-label>
                    <input matInput aria-label="iban" formControlName="iban"
                        [placeholder]="'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.IBAN_PLACEHOLDER' | translate">
                    <mat-error [ob-form-errors]="form" field="iban" />
                </mat-form-field>
                <div class="flex flex-col sm:flex-row gap-4">
                    <mat-form-field appearance="outline" class="ob-form-field field-with-label basis-1/2">
                        <mat-label>{{'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BIC' | translate}}</mat-label>
                        <input matInput aria-label="bic" formControlName="bic"
                            [placeholder]="'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BIC_PLACEHOLDER' | translate">
                        <mat-error [ob-form-errors]="form" field="bic" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class="ob-form-field field-with-label basis-1/2">
                        <mat-label>{{'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BANK_CODE' | translate}}</mat-label>
                        <input matInput aria-label="bankCode" formControlName="bankCode"
                            [placeholder]="'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BANK_CODE_PLACEHOLDER' | translate">
                        <mat-error [ob-form-errors]="form" field="bankCode" />
                    </mat-form-field>
                </div>
                <div class="flex flex-col sm:flex-row gap-4">
                    <mat-form-field appearance="outline" class="ob-form-field field-with-label basis-1/2">
                        <mat-label>{{'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BUSINESS_CODE' | translate}}</mat-label>
                        <input matInput aria-label="businessCode" formControlName="businessCode"
                            [placeholder]="'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.BUSINESS_CODE_PLACEHOLDER' | translate">
                        <mat-error [ob-form-errors]="form" field="businessCode" />
                    </mat-form-field>
                    <mat-form-field appearance="outline" class="ob-form-field field-with-label basis-1/2">
                        <mat-label>{{'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.NIF' | translate}}</mat-label>
                        <input matInput aria-label="nif" formControlName="nif"
                            [placeholder]="'ENTITY.BANK_ACCOUNTS.NEW_DIALOG.NIF_PLACEHOLDER' | translate">
                        <mat-error [ob-form-errors]="form" field="nif" />
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div mat-dialog-actions align="end">
            <button type="button" mat-button class="ob-button" (click)="close()">
                {{'FORMS.ACTIONS.CANCEL' | translate}}
            </button>
            <button mat-flat-button color="primary" [disabled]="form.invalid || !form.dirty" class="ob-button" (click)="save()">
                {{data?.bankAccount ? ('FORMS.ACTIONS.SAVE' | translate) : ('FORMS.ACTIONS.CREATE' | translate)}}
            </button>
        </div>
    </form>
</div>