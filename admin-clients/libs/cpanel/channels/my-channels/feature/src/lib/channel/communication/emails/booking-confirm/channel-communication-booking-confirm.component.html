<app-form-container (cancel)="cancel()" (save)="save()" layout="menu" class="overflow-y-auto"
    [formGroup]="form" [disabled]="!form.dirty || (isInProgress$ | async)">
    <app-language-bar [languages]="languageList$ | async" [selected]="selectedLanguage$ | async" slot="outside"
        [changeGuard]="canChangeLanguage" (changed)="changeLanguage($event)" />
    <div class="flex flex-col">
        <p class="basis-full mat-body-2 section-description">
            {{ 'CHANNELS.EMAILS_COMMUNICATION.BOOKING_CONFIRM.DESCRIPTION' | translate }}
        </p>
        <div class="flex">
            <mat-form-field class="ob-form-field field-with-label basis-1/2" appearance="outline">
                <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.BOOKING_CONFIRM.SUBJECT' | translate}}</mat-label>
                <input matInput aria-label="subject"
                    [placeholder]="'CHANNELS.EMAILS_COMMUNICATION.BOOKING_CONFIRM.SUBJECT' | translate"
                    formControlName="subject" />
            </mat-form-field>
        </div>
        <mat-form-field class="ob-form-field no-padding field-with-label" appearance="outline">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.BOOKING_CONFIRM.HEADER' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 100, max: 500}" formControlName="header"
                [autocompleterItems]="placeholdersMap['header']" class="vertical-stretch" />
        </mat-form-field>

        @if (channelWebTypes.includes(channelType)) {
            <mat-form-field class="ob-form-field no-padding field-with-label" appearance="outline">
                <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.BOOKING_CONFIRM.DOWNLOAD_TICKETS' | translate}}</mat-label>
                <app-rich-text-area [autoresize]="{min: 100, max: 200}" formControlName="bookingCheckout"
                    [autocompleterItems]="placeholdersMap['bookingCheckout']" class="vertical-stretch" />
            </mat-form-field>
        }

        <mat-form-field class="ob-form-field no-padding field-with-label" appearance="outline">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.BOOKING_CONFIRM.FOOTER' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 100, max: 800}" formControlName="footer"
                [autocompleterItems]="placeholdersMap['footer']" class="vertical-stretch" />
        </mat-form-field>
    </div>
</app-form-container>

@if (isInProgress$ | async) {
    <div class="spinner-container">
        <mat-spinner />
    </div>
}
