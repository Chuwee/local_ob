<app-form-container (cancel)="cancel()" (save)="save()" layout="menu" class="overflow-y-auto"
    [disabled]="!form.dirty || $loading()">
    <app-language-bar [languages]="languageList$ | async" [selected]="selectedLanguage$ | async" slot="outside"
        [changeGuard]="canChangeLanguage" (changed)="changeLanguage($event)" />
    <form [formGroup]="form" class="flex flex-col">
        <p class="mat-body-2 section-description">
            {{ 'CHANNELS.EMAILS_COMMUNICATION.REVIEWS_EMAIL.DESCRIPTION' | translate }}
        </p>
        <mat-form-field appearance="outline" class="ob-form-field field-with-label">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.REVIEWS_EMAIL.SUBJECT' | translate}}</mat-label>
            <input matInput aria-label="subject"
                [placeholder]="'CHANNELS.EMAILS_COMMUNICATION.REVIEWS_EMAIL.SUBJECT' | translate"
                formControlName="subject">
        </mat-form-field>
        <mat-form-field appearance="outline" class="ob-form-field no-padding field-with-label">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.REVIEWS_EMAIL.HEADER' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 300, max: 500}" formControlName="header"
                [autocompleterItems]="placeholdersMap['header']" class="vertical-stretch" />
        </mat-form-field>
        <mat-form-field appearance="outline" class="ob-form-field no-padding field-with-label">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.REVIEWS_EMAIL.FOOTER' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 300, max: 800}" formControlName="footer"
                [autocompleterItems]="placeholdersMap['footer']" class="vertical-stretch" />
        </mat-form-field>
    </form>
</app-form-container>
@if ($loading()){
    <div class="spinner-container">
        <mat-spinner />
    </div>
}
