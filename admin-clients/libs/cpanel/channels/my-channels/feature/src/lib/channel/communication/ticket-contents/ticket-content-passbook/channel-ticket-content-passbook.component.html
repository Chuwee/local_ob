<div class="details-container" fxLayout="column" fxFlex="0 1 880px">
    <div fxFlex="0 1 100%" fxLayout="column">
        <mat-accordion class="details-form-container" [multi]="true" [togglePosition]="'before'">
            <mat-expansion-panel [expanded]="true" (expandedChange)="isPassbookContentExpanded = $event">
                <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                    <mat-panel-title>
                        {{'CHANNELS.TICKETS_COMMUNICATION.PASSBOOK.TITLE' | translate}}
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <form id="passbookContent" [formGroup]="passbookContentForm">
                    <div class="section-block">
                        <h3 class="section-title">
                            {{'CHANNELS.TICKETS_COMMUNICATION.PASSBOOK.CHANNEL_IMAGE.TITLE' | translate}}
                        </h3>
                        <p class="section-description">
                            {{'CHANNELS.TICKETS_COMMUNICATION.PASSBOOK.CHANNEL_IMAGE.INFO' | translate }}
                        </p>
                        <div fxLayout="row" [matTooltip]="'CHANNELS.TICKETS_COMMUNICATION.PASSBOOK.DISABLED_INFO' | translate"
                            [matTooltipDisabled]="isEnabled">
                            <div fxFlex="50%" fxLayout="column" class="image-uploader">
                                <app-image-uploader [imageRestrictions]="imageRestrictions['passbookChannelImage']"
                                    formControlName="channelImage" />
                            </div>
                            <div fxFlex="50%" fxLayout="column">
                                <div class="background-color" fxLayout="row">
                                    <span class="ob-round-badge badge-passbook">1</span>
                                    <mat-form-field appearance="outline" fxFlex="90px" class="ob-form-field field-with-label min-padding">
                                        <mat-label>
                                            {{'CHANNELS.TICKETS_COMMUNICATION.PASSBOOK.BACKGROUND_COLOR' | translate}}
                                        </mat-label>
                                        <app-color-picker formControlName="backgroundColor" />
                                        <mat-error *ngIf="passbookContentForm.hasError('required', 'backgroundColor')">
                                            {{'FORMS.ERRORS.REQUIRED_FIELD' | translate}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="label-color" fxLayout="row">
                                    <span class="ob-round-badge badge-passbook">2</span>
                                    <mat-form-field appearance="outline" fxFlex="90px" class="ob-form-field field-with-label min-padding">
                                        <mat-label>
                                            {{'CHANNELS.TICKETS_COMMUNICATION.PASSBOOK.LABEL_COLOR' | translate}}
                                        </mat-label>
                                        <app-color-picker formControlName="labelColor" />
                                        <mat-error *ngIf="passbookContentForm.hasError('required', 'labelColor')">
                                            {{'FORMS.ERRORS.REQUIRED_FIELD' | translate}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="text-color" fxLayout="row">
                                    <span class="ob-round-badge badge-passbook">3</span>
                                    <mat-form-field appearance="outline" fxFlex="90px" class="ob-form-field field-with-label min-padding">
                                        <mat-label>
                                            {{'CHANNELS.TICKETS_COMMUNICATION.PASSBOOK.TEXT_COLOR' | translate}}
                                        </mat-label>
                                        <app-color-picker formControlName="textColor" />
                                        <mat-error *ngIf="passbookContentForm.hasError('required', 'textColor')">
                                            {{'FORMS.ERRORS.REQUIRED_FIELD' | translate}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>
<mat-divider vertical="true" fxFlexAlign="stretch" />
<div fxFlex="0 0 200px">
    <div class="ticket-template-legend legend-passbook" [fxHide]="!isPassbookContentExpanded" fxLayout="column"
        fxLayoutAlign="start start">
        <img src="assets/ticket-template/passbook-ticket-channel.svg"
            [alt]="'EVENTS.COMMUNICATION.PASSBOOK' | translate">
    </div>
</div>