<app-form-container (cancel)="cancel()" (save)="save()" layout="menu" class="overflow-y-auto"
    [disabled]="!form.dirty || (isInProgress$ | async)">
    <app-language-bar [languages]="languageList$ | async" [selected]="selectedLanguage$ | async" slot="outside"
        [changeGuard]="canChangeLanguage" (changed)="changeLanguage($event)" />
    <form [formGroup]="form" fxLayout="row wrap">
        <p fxFlex="100%" class="mat-body-2 section-description">
            {{ 'CHANNELS.EMAILS_COMMUNICATION.SOLD_TICKET.DESCRIPTION' | translate }}
        </p>

        <div fxFlex="100%" fxFlex.gt-sm="50%" fxLayoutAlign=" center">
            <mat-form-field fxFlex appearance="outline" class="ob-form-field field-with-label">
                <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.SOLD_TICKET.SUBJECT' | translate}}
                </mat-label>
                <input matInput aria-label="subject"
                    [placeholder]="'CHANNELS.EMAILS_COMMUNICATION.SOLD_TICKET.SUBJECT' | translate"
                    formControlName="subject">
            </mat-form-field>

            <app-help-button [message]="'CHANNELS.EMAILS_COMMUNICATION.SOLD_TICKET.SUBJECT_INFO' | translate" />
        </div>

        <mat-form-field fxFlex="100%" appearance="outline" class="ob-form-field no-padding field-with-label">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.SOLD_TICKET.HEADER' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 100, max: 500}" formControlName="header"
                [autocompleterItems]="placeholdersMap['header']" class="vertical-stretch" />
        </mat-form-field>
        <mat-form-field fxFlex="100%" appearance="outline" class="ob-form-field no-padding field-with-label">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.SOLD_TICKET.PAYOUT_INFO' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 100, max: 800}" formControlName="payoutInfo"
                [autocompleterItems]="placeholdersMap['payoutInfo']" class="vertical-stretch" />
        </mat-form-field>
        <mat-form-field fxFlex="100%" appearance="outline" class="ob-form-field no-padding field-with-label">
            <mat-label>{{'CHANNELS.EMAILS_COMMUNICATION.SOLD_TICKET.FOOTER' | translate}}</mat-label>
            <app-rich-text-area [autoresize]="{min: 100, max: 800}" formControlName="footer"
                [autocompleterItems]="placeholdersMap['footer']" class="vertical-stretch" />
        </mat-form-field>
    </form>
</app-form-container>
@if(isInProgress$ | async){
    <div class="spinner-container">
        <mat-spinner />
    </div>
}
