<div mat-dialog-content fxLayout="column" class="with-wizard-bar">
    <form [formGroup]="contactDataform" fxLayout="column" fxLayoutAlign="start stretch">
        <div fxLayout="row wrap" fxLayoutAlign="space-between">
            <!-- Contact person -->
            <mat-form-field fxFlex="100%" fxFlex.gt-sm="0 1 calc(50% - 20px)" appearance="outline"
                class="ob-form-field field-with-label no-grid-spacing">
                <mat-label>{{'FORMS.LABELS.CONTACT_PERSON' | translate}}</mat-label>
                <input matInput aria-label="contactPerson" formControlName="contactPerson"
                    [placeholder]="'FORMS.LABELS.CONTACT_PERSON' | translate">
                <mat-error [ob-form-errors]="contactDataform" field="contactPerson"></mat-error>
            </mat-form-field>
            <!-- Email -->
            <mat-form-field fxFlex="100%" fxFlex.gt-sm="0 1 calc(50% - 20px)" appearance="outline"
                class="ob-form-field field-with-label no-grid-spacing">
                <mat-label>{{'FORMS.LABELS.EMAIL' | translate}}</mat-label>
                <input matInput aria-label="email" formControlName="email" [placeholder]="'FORMS.LABELS.EMAIL' | translate">
                <mat-error [ob-form-errors]="contactDataform" field="email"></mat-error>
            </mat-form-field>
            <!-- Phone -->
            <mat-form-field fxFlex="100%" fxFlex.gt-sm="0 1 calc(50% - 20px)" appearance="outline"
                class="ob-form-field field-with-label no-grid-spacing">
                <mat-label>{{'FORMS.LABELS.PHONE' | translate}}</mat-label>
                <input matInput aria-label="phone" formControlName="phone" [placeholder]="'FORMS.LABELS.PHONE' | translate">
                <mat-error [ob-form-errors]="contactDataform" field="phone"></mat-error>
            </mat-form-field>
            <!-- Address -->
            <mat-form-field fxFlex="100%" fxFlex.gt-sm="0 1 calc(50% - 20px)" appearance="outline"
                class="ob-form-field field-with-label no-grid-spacing">
                <mat-label>{{'FORMS.LABELS.ADDRESS' | translate}}</mat-label>
                <input matInput aria-label="address" formControlName="address" [placeholder]="'FORMS.LABELS.ADDRESS' | translate">
                <mat-error [ob-form-errors]="contactDataform" field="address"></mat-error>
            </mat-form-field>
            <!-- Country -->
            <mat-form-field fxFlex="100%" fxFlex.gt-sm="0 1 calc(50% - 20px)" appearance="outline"
                class="ob-form-field field-with-label no-grid-spacing">
                <mat-label>{{'FORMS.LABELS.COUNTRY' | translate}}</mat-label>
                <mat-select [placeholder]="'FORMS.SELECT.PLACE_HOLDER' | translate" formControlName="country">
                    <mat-option>
                        <app-select-search #countrySelectSearch [options$]="countries$"
                            [placeholderLabel]="'FORMS.SELECT.PLACE_HOLDER' | translate" searchField="name" requireSelection="true">
                        </app-select-search>
                    </mat-option>
                    <mat-option *ngFor="let country of countrySelectSearch.getFilteredOptions$() | async" [value]="country.code">
                        {{country.name}}
                    </mat-option>
                </mat-select>
                <mat-error [ob-form-errors]="contactDataform" field="country"></mat-error>
            </mat-form-field>
            <!-- Country subdivision -->
            <mat-form-field fxFlex="100%" fxFlex.gt-sm="0 1 calc(50% - 20px)" appearance="outline"
                class="ob-form-field field-with-label no-grid-spacing">
                <mat-label>{{'FORMS.LABELS.COUNTRY_SUBDIVISION' | translate}}</mat-label>
                <mat-select [placeholder]="'FORMS.SELECT.PLACE_HOLDER' | translate" formControlName="countrySubdivision">
                    <mat-option>
                        <app-select-search #countrySubdivisionSelectSearch [options$]="filteredRegions$"
                            [placeholderLabel]="'FORMS.SELECT.PLACE_HOLDER' | translate" searchField="name" requireSelection="true">
                        </app-select-search>
                    </mat-option>
                    <mat-option *ngFor="let countrySubdivision of countrySubdivisionSelectSearch.getFilteredOptions$() | async"
                        [value]="countrySubdivision.code">
                        {{countrySubdivision.name}}
                    </mat-option>
                </mat-select>
                <mat-error [ob-form-errors]="contactDataform" field="countrySubdivision"></mat-error>
            </mat-form-field>
        </div>
    </form>
</div>
<div class="spinner-container" *ngIf="isInProgress$ | async">
    <mat-spinner></mat-spinner>
</div>