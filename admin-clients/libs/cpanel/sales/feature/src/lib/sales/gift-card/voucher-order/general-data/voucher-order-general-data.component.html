<div class="order-general-data-container" fxLayout="column" fxFlex="100%" *ngIf="voucherOrderDetail$ | async as voucherOrderDetail">
    <div class="actions-bar" fxLayout="column">
        <div fxFlex="0 1 100%" fxLayout="row" fxLayoutAlign="center">
            <div fxFlex="0 1 1175px" fxLayout="row" fxLayoutGap="8px">
                <button *ngFor="let item of voucherOrderDetail.items" mat-button type="button" class="ob-button small"
                    (click)="openResendDialog(voucherOrderDetail.code, voucherOrderDetail.buyer_data.email, item.receiver?.email)"
                    [attr.aria-label]="'TITLES.RESEND_VOUCHER_ORDER' | translate"
                    [matTooltip]="'TITLES.RESEND_VOUCHER_ORDER' | translate">
                    <mat-icon>redo</mat-icon>
                    {{'TITLES.RESEND_VOUCHER_ORDER' | translate}}
                </button>
            </div>
        </div>
    </div>
    <app-form-container [hideActionBar]="true" layout="main" class="no-top-padding">
        <div fxLayout="column">
            <div class="main-content" fxLayout="row wrap" fxLayoutAlign="space-between start">
                <div fxFlex="0 1 100%" fxLayout="column" fxLayoutAlign="stretch">
                    <div fxFlex="0 1 100%" fxLayout="row" fxLayoutAlign="center stretch">
                        <mat-accordion class="details-form-container" fxFlex="0 1 845px" [multi]="true" togglePosition="before">
                            <mat-expansion-panel [expanded]="true">
                                <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                                    <mat-panel-title>{{'VOUCHER_ORDER.ORDER_DATA' | translate}}</mat-panel-title>
                                </mat-expansion-panel-header>
                                <app-voucher-order-data [voucherOrderDetail]="voucherOrderDetail"></app-voucher-order-data>
                            </mat-expansion-panel>
                            <mat-expansion-panel [expanded]="true">
                                <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                                    <mat-panel-title>{{'VOUCHER_ORDER.BUYER_DATA.TITLE' | translate}}</mat-panel-title>
                                </mat-expansion-panel-header>
                                <app-voucher-order-buyer-data [voucherOrderDetail]="voucherOrderDetail"></app-voucher-order-buyer-data>
                            </mat-expansion-panel>
                            <ng-container *ngFor="let item of voucherOrderDetail.items">
                                <mat-expansion-panel *ngIf="item.receiver" [expanded]="true">
                                    <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                                        <mat-panel-title>
                                            {{'VOUCHER_ORDER.DELIVERY_DATA.TITLE' | translate}}
                                        </mat-panel-title>
                                    </mat-expansion-panel-header>
                                    <app-voucher-order-delivery-data [item]="item"></app-voucher-order-delivery-data>
                                </mat-expansion-panel>
                            </ng-container>
                            <mat-expansion-panel [expanded]="true">
                                <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                                    <mat-panel-title>
                                        {{'VOUCHER_ORDER.GIFT_CARDS_DATA.TITLE' | translate}}
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <div fxLayout="row wrap">
                                    <div fxFlex="100%" fxLayout="column">
                                        <div *ngFor="let item of voucherOrderDetail.items"
                                            class="order-general-data-tickets-table" fxFlex="100%" fxLayout="row">
                                            <div fxFlex="100%" fxLayout="column">
                                                <span class="title">
                                                    {{voucherOrderDetail.channel.name}}
                                                </span>
                                                <app-order-details-gift-card-table [items]="voucherOrderDetail.items">
                                                </app-order-details-gift-card-table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </mat-expansion-panel>
                            <mat-expansion-panel [expanded]="true" *ngIf="voucherOrderDetail.payment_data">
                                <mat-expansion-panel-header expandedHeight="*" collapsedHeight="*">
                                    <mat-panel-title>{{'VOUCHER_ORDER.PAYMENT.TITLE' | translate}}</mat-panel-title>
                                </mat-expansion-panel-header>
                                <app-voucher-order-details-payments [orderData]="voucherOrderDetail"
                                    [currency]="voucherOrderDetail.price.currency">
                                </app-voucher-order-details-payments>
                            </mat-expansion-panel>
                        </mat-accordion>
                        <mat-divider vertical="true" fxFlexAlign="stretch"></mat-divider>
                        <div class="ob-summary sidebar-container" fxFlex="0 1 340px" fxLayout="column">
                            <app-voucher-order-price [voucherOrderDetail]="voucherOrderDetail"></app-voucher-order-price>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </app-form-container>
</div>
<div class="spinner-container" *ngIf="reqInProgress$ | async">
    <mat-spinner></mat-spinner>
</div>